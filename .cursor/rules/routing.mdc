---
alwaysApply: true
---
# Routing (GoRouter)

## Router 설정
```dart
// core/router/app_router.dart
@riverpod
GoRouter goRouter(Ref ref) {
  final authState = ref.watch(authStateProvider);
  
  return GoRouter(
    initialLocation: '/splash',
    redirect: (context, state) {
      final isAuthenticated = authState.valueOrNull?.isAuthenticated ?? false;
      final isGoingToLogin = state.matchedLocation == '/login';
      
      if (!isAuthenticated && !isGoingToLogin) {
        return '/login';
      }
      if (isAuthenticated && isGoingToLogin) {
        return '/dashboard';
      }
      return null;
    },
    routes: [
      GoRoute(
        path: '/login',
        name: 'login',
        builder: (context, state) => const LoginView(),
      ),
      GoRoute(
        path: '/dashboard',
        name: 'dashboard',
        builder: (context, state) => const DashboardView(),
        routes: [
          GoRoute(
            path: 'trainer/:id',
            name: 'trainer-detail',
            builder: (context, state) {
              final id = state.pathParameters['id']!;
              return TrainerDetailView(trainerId: id);
            },
          ),
        ],
      ),
    ],
  );
}
```

## Navigation 규칙
- 모든 navigation은 `context.go()`, `context.push()`, `context.pop()` 사용
- Type-safe routing: `GoRoute`의 `name` 활용
- Deep linking은 `path parameter`로 처리
- 인증 상태는 `redirect` 콜백에서 처리
- 절대 `Navigator.of(context).push()` 사용하지 않음
